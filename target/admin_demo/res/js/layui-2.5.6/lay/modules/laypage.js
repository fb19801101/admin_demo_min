/** layui-v2.5.6 MIT License By https://www.layui.com */
layui.define(function(exports){var doc=document,id="getElementById",tag="getElementsByTagName",MOD_NAME="laypage",DISABLED="layui-disabled",UNICODE_TEXT_PREV="&#x4E0A;&#x4E00;&#x9875;",UNICODE_TEXT_NEXT="&#x4E0B;&#x4E00;&#x9875;",UNICODE_TEXT_FIRST="&#x9996;&#x9875;",UNICODE_TEXT_LAST="&#x5C3E;&#x9875;",UNICODE_TEXT_SPAN="&#x2026;",UNICODE_TEXT_SUM="&#x5171; ",UNICODE_TEXT_UNIT=" &#x6761;",UNICODE_TEXT_PAGE="&#x9875;",UNICODE_TEXT_LIMIT=" &#x6761;&#x002f;&#x9875;",UNICODE_TEXT_SKIP="&#x5230;&#x7B2C;",UNICODE_TEXT_SUBMIT="&#x786e;&#x5b9a;",Class=function(options){var that=this;that.config=options||{};that.config.index=++laypage.index;that.render(true)};Class.prototype.type=function(){var config=this.config;if(typeof config.elem==="object"){return config.elem.length===undefined?2:3}};Class.prototype.view=function(){var that=this,config=that.config,groups=config.groups="groups" in config?(config.groups|0):5;config.layout=typeof config.layout==="object"?config.layout:["prev","page","next"];config.count=config.count|0;config.curr=(config.curr|0)||1;config.limits=typeof config.limits==="object"?config.limits:[10,20,30,40,50];config.limit=(config.limit|0)||10;config.pages=Math.ceil(config.count/config.limit)||1;if(config.curr>config.pages){config.curr=config.pages}if(groups<0){groups=1}else{if(groups>config.pages){groups=config.pages}}config.prev="prev" in config?config.prev:UNICODE_TEXT_PREV;config.next="next" in config?config.next:UNICODE_TEXT_NEXT;var index=config.pages>groups?Math.ceil((config.curr+(groups>1?1:0))/(groups>0?groups:1)):1,views={prev:function(){return config.prev?'<a href="javascript:;" class="layui-laypage-prev'+(config.curr==1?(" "+DISABLED):"")+'" data-page="'+(config.curr-1)+'">'+config.prev+"</a>":""}(),page:function(){var pager=[];if(config.count<1){return""}if(index>1&&config.first!==false&&groups!==0){pager.push('<a href="javascript:;" class="layui-laypage-first" data-page="1"  title="'+UNICODE_TEXT_FIRST+'">'+(config.first||1)+"</a>")}var halve=Math.floor((groups-1)/2),start=index>1?config.curr-halve:1,end=index>1?(function(){var max=config.curr+(groups-halve-1);return max>config.pages?config.pages:max}()):groups;if(end-start<groups-1){start=end-groups+1}if(config.first!==false&&start>2){pager.push('<span class="layui-laypage-spr">'+UNICODE_TEXT_SPAN+"</span>")}for(;start<=end;start++){if(start===config.curr){pager.push('<span class="layui-laypage-curr"><em class="layui-laypage-em" '+(/^#/.test(config.theme)?'style="background-color:'+config.theme+';"':"")+"></em><em>"+start+"</em></span>")}else{pager.push('<a href="javascript:;" data-page="'+start+'">'+start+"</a>")}}if(config.pages>groups&&config.pages>end&&config.last!==false){if(end+1<config.pages){pager.push('<span class="layui-laypage-spr">'+UNICODE_TEXT_SPAN+"</span>")}if(groups!==0){pager.push('<a href="javascript:;" class="layui-laypage-last" title="'+UNICODE_TEXT_LAST+'"  data-page="'+config.pages+'">'+(config.last||config.pages)+"</a>")}}return pager.join("")}(),next:function(){return config.next?'<a href="javascript:;" class="layui-laypage-next'+(config.curr==config.pages?(" "+DISABLED):"")+'" data-page="'+(config.curr+1)+'">'+config.next+"</a>":""}(),count:'<span class="layui-laypage-count">'+UNICODE_TEXT_SUM+config.count+UNICODE_TEXT_UNIT+"</span>",limit:function(){var options=['<span class="layui-laypage-limits"><select lay-ignore>'];layui.each(config.limits,function(index,item){options.push('<option value="'+item+'"'+(item===config.limit?"selected":"")+">"+item+UNICODE_TEXT_LIMIT+"</option>")});return options.join("")+"</select></span>"}(),refresh:['<a href="javascript:;" data-page="'+config.curr+'" class="layui-laypage-refresh">','<i class="layui-icon layui-icon-refresh"></i>',"</a>"].join(""),skip:function(){return['<span class="layui-laypage-skip">'+UNICODE_TEXT_SKIP,'<input type="text" min="1" value="'+config.curr+'" class="layui-input">',UNICODE_TEXT_PAGE+'<button type="button" class="layui-laypage-btn">'+UNICODE_TEXT_SUBMIT+"</button>","</span>"].join("")}()};return['<div class="layui-box layui-laypage layui-laypage-'+(config.theme?(/^#/.test(config.theme)?"molv":config.theme):"default")+'" id="layui-laypage-'+config.index+'">',function(){var plate=[];layui.each(config.layout,function(index,item){if(views[item]){plate.push(views[item])}});return plate.join("")}(),"</div>"].join("")};Class.prototype.jump=function(elem,isskip){if(!elem){return}var that=this,config=that.config,childs=elem.children,btn=elem[tag]("button")[0],input=elem[tag]("input")[0],select=elem[tag]("select")[0],skip=function(){var curr=input.value.replace(/\s|\D/g,"")|0;if(curr){config.curr=curr;that.render()}};if(isskip){return skip()}for(var i=0,len=childs.length;i<len;i++){if(childs[i].nodeName.toLowerCase()==="a"){laypage.on(childs[i],"click",function(){var curr=this.getAttribute("data-page")|0;if(curr<1||curr>config.pages){return}config.curr=curr;that.render()})}}if(select){laypage.on(select,"change",function(){var value=this.value;if(config.curr*value>config.count){config.curr=Math.ceil(config.count/value)
}config.limit=value;that.render()})}if(btn){laypage.on(btn,"click",function(){skip()})}};Class.prototype.skip=function(elem){if(!elem){return}var that=this,input=elem[tag]("input")[0];if(!input){return}laypage.on(input,"keyup",function(e){var value=this.value,keyCode=e.keyCode;if(/^(37|38|39|40)$/.test(keyCode)){return}if(/\D/.test(value)){this.value=value.replace(/\D/,"")}if(keyCode===13){that.jump(elem,true)}})};Class.prototype.render=function(load){var that=this,config=that.config,type=that.type(),view=that.view();if(type===2){config.elem&&(config.elem.innerHTML=view)}else{if(type===3){config.elem.html(view)}else{if(doc[id](config.elem)){doc[id](config.elem).innerHTML=view}}}config.jump&&config.jump(config,load);var elem=doc[id]("layui-laypage-"+config.index);that.jump(elem);if(config.hash&&!load){location.hash="!"+config.hash+"="+config.curr}that.skip(elem)};var laypage={render:function(options){var o=new Class(options);return o.index},index:layui.laypage?(layui.laypage.index+10000):0,on:function(elem,even,fn){elem.attachEvent?elem.attachEvent("on"+even,function(e){e.target=e.srcElement;fn.call(elem,e)}):elem.addEventListener(even,fn,false);return this}};exports(MOD_NAME,laypage)});